<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The RESIDE Package • RESIDE</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The RESIDE Package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RESIDE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/RESIDE.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/exporting_marginal_distributions.html">Exporting Marginal Distributions</a></li>
    <li><a class="dropdown-item" href="../articles/importing_marginal_distributions.html">Importing Marginal Distributions</a></li>
    <li><a class="dropdown-item" href="../articles/synthesising_data.html">Synthesising Data from Marginal Distributions</a></li>
    <li><a class="dropdown-item" href="../articles/worked_example.html">Worked Example Using the IST Dataset</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The RESIDE Package</h1>
            
      

      <div class="d-none name"><code>RESIDE.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Rapid Easy Synthesis to Inform Data Extraction (RESIDE) Package
was developed to assist researchers with planning analysis, prior to
obtaining data from Trusted Research Environments (TREs) also known as
safe havens <span class="citation">(Hubbard et al. 2021; Gao et al.
2022; Lea et al. 2016)</span>.</p>
<p>Obtaining data from TREs is can be a lengthy process due to data
governance <span class="citation">(Gao et al. 2022)</span>, in which
time a researcher may not be able to start their analysis. With the
RESIDE package, a researcher can obtain the marginal distributions of a
dataset held by a trusted research environment and simulate a synthetic
dataset. Thus allowing them to explore what the data looks like prior to
gaining access to it. This approach allows the researched to explore
variables, including their missingness and plan their analysis
appropriately. Additionally, it allows the research to start writing
code for their analysis as the structure of the synthetic data will be
the same as that on the TRE. The RESIDE package also allows the
researcher to specify <strong>assumed</strong> correlations based on
expertise or previous research when simulating the data to also allow
the researcher to test analysis.</p>
<p><strong>NB</strong> When using correlations it is not entirely
possible to maintain all the marginal distributions.</p>
</div>
<div class="section level2">
<h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a>
</h2>
</div>
<div class="section level2">
<h2 id="for-tres">For TRE’s<a class="anchor" aria-label="anchor" href="#for-tres"></a>
</h2>
<div class="section level3">
<h3 id="generating-marginal-distributions">Generating Marginal Distributions<a class="anchor" aria-label="anchor" href="#generating-marginal-distributions"></a>
</h3>
<p>Marginal distributions can be generated for a given dataset within a
TRE using the <code><a href="../reference/get_marginal_distributions.html">get_marginal_distributions()</a></code> function.
Marginal distributions will be created for all variable types
including:</p>
<ul>
<li>Binary</li>
<li>Categorical</li>
<li>Continuous</li>
</ul>
<p>Binary variables are detected automatically by testing the min and
maximum values of numeric variables, if they fall between 0 and 1, the
variable is assumed binary; currently there is no way of manually
overriding this, but this is planned for a future update. For binary
variables the mean is used to represent the marginal distributions,
allowing this to be used as a probability when simulating data.</p>
<p>Currently any factor variable or variable containing non numeric
characters will be treated as categorical, this however means that the
burden is on the TRE to ensure that any variables containing non numeric
characters are categorical. For categorical variables, the number of
each category is used to represent the marginal distributions, allowing
the probability of each category to be calculated when simulating
data.</p>
<p><strong>NB</strong> Currently there is no automated checking to see
if a category contains less than a certain percent, or if there are an
excess number of categories therefore it is up to the TRE to ensure that
this is checked and if necessary adjusted prior to generating the
marginal distributions.</p>
<p>Any other numeric variable is treated as a continuous variable. To
prevent the need to specify a distribution when simulating data,
continuous variables are transformed using Ordered Quantile
normalisation from the <code>bestNormalize</code> package. The mean and
standard deviation of the transformed variable(s) are used as the
marginal distributions to allow the simulation of the variable using a
normal distribution. Additionally the mapping table is exported to allow
the variables to be back transformed.</p>
</div>
<div class="section level3">
<h3 id="exporting-marginal-distributions">Exporting Marginal Distributions<a class="anchor" aria-label="anchor" href="#exporting-marginal-distributions"></a>
</h3>
<p>Marginal distributions are exported using the
<code>export_marginal_distributions</code> function. Marginal
distributions can be printed prior to export using the
<code>print</code> function. See <a href="exporting_marginal_distributions.html">Exporting Marginal
Distributions</a> for more details.</p>
</div>
</div>
<div class="section level2">
<h2 id="for-end-users">For End Users<a class="anchor" aria-label="anchor" href="#for-end-users"></a>
</h2>
<div class="section level3">
<h3 id="importing-marginal-distributions">Importing Marginal Distributions<a class="anchor" aria-label="anchor" href="#importing-marginal-distributions"></a>
</h3>
<p>Marginal distributions can be imported using the
<code>import_marginal_distributions</code> function. See <a href="importing_marginal_distributions.html">Importing Marginal
Distributions</a> for more details.</p>
</div>
<div class="section level3">
<h3 id="data-simulation">Data Simulation<a class="anchor" aria-label="anchor" href="#data-simulation"></a>
</h3>
<p>Data is simulated from a cumulative multivariate copula distribution
using the <code>simstudy</code> package. Data can be simulated from
marginal distributions using the <code>synthesise_data</code> function.
See <a href="synthesising_data.html">Synthesising Data and Synthesising
Data with Correlations</a> for more details.</p>
</div>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<p>This package has several limitations, some of which will be overcome
with future updates.</p>
<div class="section level3">
<h3 id="binary-variables">Binary Variables<a class="anchor" aria-label="anchor" href="#binary-variables"></a>
</h3>
<p>The package currently assumes that numeric variables which lie
between 0 and 1 are binary, with no current way to override this. This
will be address in a future update.</p>
</div>
<div class="section level3">
<h3 id="categorical-variables">Categorical Variables<a class="anchor" aria-label="anchor" href="#categorical-variables"></a>
</h3>
<p>The package currently assumes any variable of a character type is a
categorical variable, this may cause issues if a dataset has erroneous
characters. Additionally there is no limit on the number of categories
or the minimum number within a category, leaving it up to the TRE to
check this and preprocess these variables. Both these limitations will
be addressed in future updates.</p>
</div>
<div class="section level3">
<h3 id="correlations">Correlations<a class="anchor" aria-label="anchor" href="#correlations"></a>
</h3>
<p>It is not entirely possible to maintain all the marginal
distributions and allow correlations to be specified, this is a known
problem and is unlikely to be addressed.</p>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-gao_national_2022" class="csl-entry">
Gao, Chuang, Mark McGilchrist, Shahzad Mumtaz, Christopher Hall, Lesley
Ann Anderson, John Zurowski, Sharon Gordon, et al. 2022. <span>“A
<span>National</span> <span>Network</span> of <span>Safe</span>
<span>Havens</span>: <span>Scottish</span>
<span>Perspective</span>.”</span> <em>Journal of Medical Internet
Research</em> 24 (3): e31684. <a href="https://doi.org/10.2196/31684" class="external-link">https://doi.org/10.2196/31684</a>.
</div>
<div id="ref-hubbard_trusted_2021" class="csl-entry">
Hubbard, Tim, Gerry Reilly, Susheel Varma, and David Seymour. 2021.
<span>“Trusted <span>Research</span> <span>Environments</span>
(<span>TRE</span>) <span>Green</span> <span>Paper</span>.”</span>
Zenodo. <a href="https://doi.org/10.5281/zenodo.4594704" class="external-link">https://doi.org/10.5281/zenodo.4594704</a>.
</div>
<div id="ref-lea_data_2016" class="csl-entry">
Lea, Nathan Christopher, Jacqueline Nicholls, Christine Dobbs, Nayha
Sethi, James Cunningham, John Ainsworth, Martin Heaven, et al. 2016.
<span>“Data <span>Safe</span> <span>Havens</span> and
<span>Trust</span>: <span>Toward</span> a <span>Common</span>
<span>Understanding</span> of <span>Trusted</span> <span>Research</span>
<span>Platforms</span> for <span>Governing</span> <span>Secure</span>
and <span>Ethical</span> <span>Health</span>
<span>Research</span>.”</span> <em>JMIR Medical Informatics</em> 4 (2):
e22. <a href="https://doi.org/10.2196/medinform.5571" class="external-link">https://doi.org/10.2196/medinform.5571</a>.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ryan Field, David McAllister.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
